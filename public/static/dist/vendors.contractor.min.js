/*! 2014-07-29 */

!function(){function a(){}function b(a,b){this.path=a,"undefined"!=typeof b&&null!==b?(this.at_2x_path=b,this.perform_check=!1):(this.at_2x_path=a.replace(/\.\w+$/,function(a){return"@2x"+a}),this.perform_check=!0)}function c(a){this.el=a,this.path=new b(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var c=this;this.path.check_2x_variant(function(a){a&&c.swap()})}var d="undefined"==typeof exports?window:exports,e={check_mime_type:!0,force_original_dimensions:!0};d.Retina=a,a.configure=function(a){null==a&&(a={});for(var b in a)e[b]=a[b]},a.init=function(a){null==a&&(a=d);var b=a.onload||new Function;a.onload=function(){var a,d,e=document.getElementsByTagName("img"),f=[];for(a=0;a<e.length;a++)d=e[a],f.push(new c(d));b()}},a.isRetina=function(){var a="(-webkit-min-device-pixel-ratio: 1.5),                      (min--moz-device-pixel-ratio: 1.5),                      (-o-min-device-pixel-ratio: 3/2),                      (min-resolution: 1.5dppx)";return d.devicePixelRatio>1?!0:d.matchMedia&&d.matchMedia(a).matches?!0:!1},d.RetinaImagePath=b,b.confirmed_paths=[],b.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},b.prototype.check_2x_variant=function(a){var c,d=this;return this.is_external()?a(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in b.confirmed_paths?a(!0):(c=new XMLHttpRequest,c.open("HEAD",this.at_2x_path),c.onreadystatechange=function(){if(4!=c.readyState)return a(!1);if(c.status>=200&&c.status<=399){if(e.check_mime_type){var f=c.getResponseHeader("Content-Type");if(null==f||!f.match(/^image/i))return a(!1)}return b.confirmed_paths.push(d.at_2x_path),a(!0)}return a(!1)},c.send(),void 0):a(!0)},d.RetinaImage=c,c.prototype.swap=function(a){function b(){c.el.complete?(e.force_original_dimensions&&(c.el.setAttribute("width",c.el.offsetWidth),c.el.setAttribute("height",c.el.offsetHeight)),c.el.setAttribute("src",a)):setTimeout(b,5)}"undefined"==typeof a&&(a=this.path.at_2x_path);var c=this;b()},a.isRetina()&&a.init(d)}(),this.JSON||(this.JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),window.ActiveXObject&&!window.CanvasRenderingContext2D&&function(h,j){function D(a){this.code=a,this.message=T[a]}function U(a){this.width=a}function E(a){this.id=a.C++}function t(a){this.G=a,this.id=a.C++}function u(a,b){this.canvas=a,this.B=b,this.d=a.uniqueID,this.D(),this.C=0,this.t="";var c=this;setInterval(function(){0===n[c.d]&&c.e()},30)}function A(){if("complete"===j.readyState){j.detachEvent(F,A);for(var a=j.getElementsByTagName(r),b=0,c=a.length;c>b;++b)B.initElement(a[b])}}function G(){var a=event.srcElement,b=a.parentNode;a.blur(),b.focus()}function H(){var a=event.propertyName;if("width"===a||"height"===a){var b=event.srcElement,c=b[a],d=parseInt(c,10);(isNaN(d)||0>d)&&(d="width"===a?300:150),c===d?(b.style[a]=d+"px",b.getContext("2d").I(b.width,b.height)):b[a]=d}}function I(){h.detachEvent(J,I);for(var a in s){var b,c=s[a],d=c.firstChild;for(b in d)"function"==typeof d[b]&&(d[b]=k);for(b in c)"function"==typeof c[b]&&(c[b]=k);d.detachEvent(K,G),c.detachEvent(L,H)}h[M]=k,h[N]=k,h[O]=k,h[C]=k,h[P]=k}function V(){var a=j.getElementsByTagName("script");return a=a[a.length-1],j.documentMode>=8?a.src:a.getAttribute("src",4)}function v(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function W(a){return a.toLowerCase()}function i(a){throw new D(a)}function Q(a){var b=parseInt(a.width,10),c=parseInt(a.height,10);(isNaN(b)||0>b)&&(b=300),(isNaN(c)||0>c)&&(c=150),a.width=b,a.height=c}var k=null,r="canvas",M="CanvasRenderingContext2D",N="CanvasGradient",O="CanvasPattern",C="FlashCanvas",P="G_vmlCanvasManager",K="onfocus",L="onpropertychange",F="onreadystatechange",J="onunload",w=((h[C+"Options"]||{}).swfPath||V().replace(/[^\/]+$/,""))+"flashcanvas.swf",e=new function(a){for(var b=0,c=a.length;c>b;b++)this[a[b]]=b}(["toDataURL","save","restore","scale","rotate","translate","transform","setTransform","globalAlpha","globalCompositeOperation","strokeStyle","fillStyle","createLinearGradient","createRadialGradient","createPattern","lineWidth","lineCap","lineJoin","miterLimit","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","clearRect","fillRect","strokeRect","beginPath","closePath","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","rect","arc","fill","stroke","clip","isPointInPath","font","textAlign","textBaseline","fillText","strokeText","measureText","drawImage","createImageData","getImageData","putImageData","addColorStop","direction","resize"]),x={},n={},s={},y={};u.prototype={save:function(){this.b(),this.c(),this.m(),this.l(),this.z(),this.w(),this.F.push([this.f,this.g,this.A,this.u,this.j,this.h,this.i,this.k,this.p,this.q,this.n,this.o,this.v,this.r,this.s]),this.a.push(e.save)},restore:function(){var a=this.F;a.length&&(a=a.pop(),this.globalAlpha=a[0],this.globalCompositeOperation=a[1],this.strokeStyle=a[2],this.fillStyle=a[3],this.lineWidth=a[4],this.lineCap=a[5],this.lineJoin=a[6],this.miterLimit=a[7],this.shadowOffsetX=a[8],this.shadowOffsetY=a[9],this.shadowBlur=a[10],this.shadowColor=a[11],this.font=a[12],this.textAlign=a[13],this.textBaseline=a[14]),this.a.push(e.restore)},scale:function(a,b){this.a.push(e.scale,a,b)},rotate:function(a){this.a.push(e.rotate,a)},translate:function(a,b){this.a.push(e.translate,a,b)},transform:function(a,b,c,d,f,g){this.a.push(e.transform,a,b,c,d,f,g)},setTransform:function(a,b,c,d,f,g){this.a.push(e.setTransform,a,b,c,d,f,g)},b:function(){var a=this.a;this.f!==this.globalAlpha&&(this.f=this.globalAlpha,a.push(e.globalAlpha,this.f)),this.g!==this.globalCompositeOperation&&(this.g=this.globalCompositeOperation,a.push(e.globalCompositeOperation,this.g))},m:function(){if(this.A!==this.strokeStyle){var a=this.A=this.strokeStyle;this.a.push(e.strokeStyle,"object"==typeof a?a.id:a)}},l:function(){if(this.u!==this.fillStyle){var a=this.u=this.fillStyle;this.a.push(e.fillStyle,"object"==typeof a?a.id:a)}},createLinearGradient:function(a,b,c,d){return isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)||i(9),this.a.push(e.createLinearGradient,a,b,c,d),new t(this)},createRadialGradient:function(a,b,c,d,f,g){return isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)&&isFinite(f)&&isFinite(g)||i(9),(0>c||0>g)&&i(1),this.a.push(e.createRadialGradient,a,b,c,d,f,g),new t(this)},createPattern:function(a,b){a||i(17);var c,d=a.tagName,f=this.d;if(d)if(d=d.toLowerCase(),"img"===d)c=a.getAttribute("src",2);else{if(d===r||"video"===d)return;i(17)}else a.src?c=a.src:i(17);return"repeat"===b||"no-repeat"===b||"repeat-x"===b||"repeat-y"===b||""===b||b===k||i(12),this.a.push(e.createPattern,v(c),b),x[f]&&(this.e(),++n[f]),new E(this)},z:function(){var a=this.a;this.j!==this.lineWidth&&(this.j=this.lineWidth,a.push(e.lineWidth,this.j)),this.h!==this.lineCap&&(this.h=this.lineCap,a.push(e.lineCap,this.h)),this.i!==this.lineJoin&&(this.i=this.lineJoin,a.push(e.lineJoin,this.i)),this.k!==this.miterLimit&&(this.k=this.miterLimit,a.push(e.miterLimit,this.k))},c:function(){var a=this.a;this.p!==this.shadowOffsetX&&(this.p=this.shadowOffsetX,a.push(e.shadowOffsetX,this.p)),this.q!==this.shadowOffsetY&&(this.q=this.shadowOffsetY,a.push(e.shadowOffsetY,this.q)),this.n!==this.shadowBlur&&(this.n=this.shadowBlur,a.push(e.shadowBlur,this.n)),this.o!==this.shadowColor&&(this.o=this.shadowColor,a.push(e.shadowColor,this.o))},clearRect:function(a,b,c,d){this.a.push(e.clearRect,a,b,c,d)},fillRect:function(a,b,c,d){this.b(),this.c(),this.l(),this.a.push(e.fillRect,a,b,c,d)},strokeRect:function(a,b,c,d){this.b(),this.c(),this.m(),this.z(),this.a.push(e.strokeRect,a,b,c,d)},beginPath:function(){this.a.push(e.beginPath)},closePath:function(){this.a.push(e.closePath)},moveTo:function(a,b){this.a.push(e.moveTo,a,b)},lineTo:function(a,b){this.a.push(e.lineTo,a,b)},quadraticCurveTo:function(a,b,c,d){this.a.push(e.quadraticCurveTo,a,b,c,d)},bezierCurveTo:function(a,b,c,d,f,g){this.a.push(e.bezierCurveTo,a,b,c,d,f,g)},arcTo:function(a,b,c,d,f){0>f&&isFinite(f)&&i(1),this.a.push(e.arcTo,a,b,c,d,f)},rect:function(a,b,c,d){this.a.push(e.rect,a,b,c,d)},arc:function(a,b,c,d,f,g){0>c&&isFinite(c)&&i(1),this.a.push(e.arc,a,b,c,d,f,g?1:0)},fill:function(){this.b(),this.c(),this.l(),this.a.push(e.fill)},stroke:function(){this.b(),this.c(),this.m(),this.z(),this.a.push(e.stroke)},clip:function(){this.a.push(e.clip)},w:function(){var a=this.a;if(this.v!==this.font)try{var b=y[this.d];b.style.font=this.v=this.font;var c=b.currentStyle;a.push(e.font,[c.fontStyle,c.fontWeight,b.offsetHeight,c.fontFamily].join(" "))}catch(d){}this.r!==this.textAlign&&(this.r=this.textAlign,a.push(e.textAlign,this.r)),this.s!==this.textBaseline&&(this.s=this.textBaseline,a.push(e.textBaseline,this.s)),this.t!==this.canvas.currentStyle.direction&&(this.t=this.canvas.currentStyle.direction,a.push(e.direction,this.t))},fillText:function(a,b,c,d){this.b(),this.l(),this.c(),this.w(),this.a.push(e.fillText,v(a),b,c,void 0===d?1/0:d)},strokeText:function(a,b,c,d){this.b(),this.m(),this.c(),this.w(),this.a.push(e.strokeText,v(a),b,c,void 0===d?1/0:d)},measureText:function(a){var b=y[this.d];try{b.style.font=this.font}catch(c){}return b.innerText=a.replace(/[ \n\f\r]/g,"	"),new U(b.offsetWidth)},drawImage:function(a,b,c,d,f,g,h,j,k){a||i(17);var l,m=a.tagName,o=arguments.length,p=this.d;if(m)if(m=m.toLowerCase(),"img"===m)l=a.getAttribute("src",2);else{if(m===r||"video"===m)return;i(17)}else a.src?l=a.src:i(17);if(this.b(),this.c(),l=v(l),3===o)this.a.push(e.drawImage,o,l,b,c);else if(5===o)this.a.push(e.drawImage,o,l,b,c,d,f);else{if(9!==o)return;(0===d||0===f)&&i(1),this.a.push(e.drawImage,o,l,b,c,d,f,g,h,j,k)}x[p]&&(this.e(),++n[p])},D:function(){this.globalAlpha=this.f=1,this.globalCompositeOperation=this.g="source-over",this.fillStyle=this.u=this.strokeStyle=this.A="#000000",this.lineWidth=this.j=1,this.lineCap=this.h="butt",this.lineJoin=this.i="miter",this.miterLimit=this.k=10,this.shadowBlur=this.n=this.shadowOffsetY=this.q=this.shadowOffsetX=this.p=0,this.shadowColor=this.o="rgba(0, 0, 0, 0.0)",this.font=this.v="10px sans-serif",this.textAlign=this.r="start",this.textBaseline=this.s="alphabetic",this.a=[],this.F=[]},H:function(){var a=this.a;return this.a=[],a},e:function(){var a=this.H();return a.length>0?eval(this.B.CallFunction('<invoke name="executeCommand" returntype="javascript"><arguments><string>'+a.join("&#0;")+"</string></arguments></invoke>")):void 0},I:function(a,b){this.e(),this.D(),a>0&&(this.B.width=a),b>0&&(this.B.height=b),this.a.push(e.resize,a,b)}},t.prototype={addColorStop:function(a,b){(isNaN(a)||0>a||a>1)&&i(1),this.G.a.push(e.addColorStop,this.id,a,b)}},D.prototype=Error();var T={1:"INDEX_SIZE_ERR",9:"NOT_SUPPORTED_ERR",11:"INVALID_STATE_ERR",12:"SYNTAX_ERR",17:"TYPE_MISMATCH_ERR",18:"SECURITY_ERR"},B={initElement:function(a){if(a.getContext)return a;var b=a.uniqueID,c="external"+b;x[b]=!1,n[b]=1,Q(a),a.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+location.protocol+'//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100%" height="100%" id="'+c+'"><param name="allowScriptAccess" value="always"><param name="flashvars" value="id='+c+'"><param name="wmode" value="transparent"></object><span style="margin:0;padding:0;border:0;display:inline-block;position:static;height:1em;overflow:visible;white-space:nowrap"></span>',s[b]=a;var d=a.firstChild;y[b]=a.lastChild;var f=j.body.contains;if(f(a))d.movie=w;else var g=setInterval(function(){f(a)&&(clearInterval(g),d.movie=w)},0);"BackCompat"!==j.compatMode&&h.XMLHttpRequest||(y[b].style.overflow="hidden");var i=new u(a,d);return a.getContext=function(a){return"2d"===a?i:k},a.toDataURL=function(a,b){return"image/jpeg"===(""+a).replace(/[A-Z]+/g,W)?i.a.push(e.toDataURL,a,"number"==typeof b?b:""):i.a.push(e.toDataURL,a),i.e()},d.attachEvent(K,G),a},saveImage:function(a){a.firstChild.saveImage()},setOptions:function(){},trigger:function(a,b){s[a].fireEvent("on"+b)},unlock:function(a,b){if(n[a]&&--n[a],b){var c,d,e=s[a],f=e.firstChild;Q(e),c=e.width,d=e.height,e.style.width=c+"px",e.style.height=d+"px",c>0&&(f.width=c),d>0&&(f.height=d),f.resize(c,d),e.attachEvent(L,H),x[a]=!0}}};if(j.createElement(r),j.createStyleSheet().cssText=r+"{display:inline-block;overflow:hidden;width:300px;height:150px}","complete"===j.readyState?A():j.attachEvent(F,A),h.attachEvent(J,I),0===w.indexOf(location.protocol+"//"+location.host+"/")){var S=new ActiveXObject("Microsoft.XMLHTTP");S.open("GET",w,!1),S.send(k)}h[M]=u,h[N]=t,h[O]=E,h[C]=B,h[P]={init:function(){},init_:function(){},initElement:B.initElement},keep=u.measureText}(window,document),function(a){function b(b,c){function d(){clearTimeout(D),D=!1,E=!1}function e(b,c){var d,e,f;return b.preventDefault(),d=a(b.target).offset(),clearTimeout(D),D=!1,"undefined"!=typeof b.targetTouches?(e=Math.floor(b.targetTouches[0].pageX-d.left),f=Math.floor(b.targetTouches[0].pageY-d.top)):(e=Math.floor(b.pageX-d.left),f=Math.floor(b.pageY-d.top)),B.x===e&&B.y===f?!0:(null===B.x&&(B.x=e),null===B.y&&(B.y=f),c&&(f+=c),A.beginPath(),A.moveTo(B.x,B.y),A.lineTo(e,f),A.lineCap=w.penCap,A.stroke(),A.closePath(),C.push({lx:e,ly:f,mx:B.x,my:B.y}),B.x=e,B.y=f,void(w.onDraw&&"function"==typeof w.onDraw&&w.onDraw.apply(v)))}function f(){g()}function g(b){b?e(b,1):(F?y.each(function(){this.removeEventListener("touchmove",e)}):y.unbind("mousemove.signaturepad"),C.length>0&&w.onDrawEnd&&"function"==typeof w.onDrawEnd&&w.onDrawEnd.apply(v)),B.x=null,B.y=null,w.output&&C.length>0&&a(w.output,x).val(JSON.stringify(C))}function h(){return w.lineWidth?(A.beginPath(),A.lineWidth=w.lineWidth,A.strokeStyle=w.lineColour,A.moveTo(w.lineMargin,w.lineTop),A.lineTo(z.width-w.lineMargin,w.lineTop),A.stroke(),void A.closePath()):!1}function i(){A.clearRect(0,0,z.width,z.height),A.fillStyle=w.bgColour,A.fillRect(0,0,z.width,z.height),w.displayOnly||h(),A.lineWidth=w.penWidth,A.strokeStyle=w.penColour,a(w.output,x).val(""),C=[],g()}function j(a,b){null==B.x?e(a,1):e(a,b)}function k(a,b){F?b.addEventListener("touchmove",j,!1):y.bind("mousemove.signaturepad",j),e(a,1)}function l(){G=!1,y.each(function(){this.removeEventListener&&(this.removeEventListener("touchend",f),this.removeEventListener("touchcancel",f),this.removeEventListener("touchmove",e)),this.ontouchstart&&(this.ontouchstart=null)}),a(document).unbind("mouseup.signaturepad"),y.unbind("mousedown.signaturepad"),y.unbind("mousemove.signaturepad"),y.unbind("mouseleave.signaturepad"),a(w.clear,x).unbind("click.signaturepad")}function m(b){return G?!1:(G=!0,a("input").blur(),"undefined"!=typeof b.targetTouches&&(F=!0),void(F?(y.each(function(){this.addEventListener("touchend",f,!1),this.addEventListener("touchcancel",f,!1)}),y.unbind("mousedown.signaturepad")):(a(document).bind("mouseup.signaturepad",function(){E&&(g(),d())}),y.bind("mouseleave.signaturepad",function(a){E&&g(a),E&&!D&&(D=setTimeout(function(){g(),d()},500))}),y.each(function(){this.ontouchstart=null}))))}function n(){a(w.typed,x).hide(),i(),y.each(function(){this.ontouchstart=function(a){a.preventDefault(),E=!0,m(a),k(a,this)}}),y.bind("mousedown.signaturepad",function(a){return a.preventDefault(),a.which>1?!1:(E=!0,m(a),void k(a))}),a(w.clear,x).bind("click.signaturepad",function(a){a.preventDefault(),i()}),a(w.typeIt,x).bind("click.signaturepad",function(a){a.preventDefault(),o()}),a(w.drawIt,x).unbind("click.signaturepad"),a(w.drawIt,x).bind("click.signaturepad",function(a){a.preventDefault()}),a(w.typeIt,x).removeClass(w.currentClass),a(w.drawIt,x).addClass(w.currentClass),a(w.sig,x).addClass(w.currentClass),a(w.typeItDesc,x).hide(),a(w.drawItDesc,x).show(),a(w.clear,x).show()}function o(){i(),l(),a(w.typed,x).show(),a(w.drawIt,x).bind("click.signaturepad",function(a){a.preventDefault(),n()}),a(w.typeIt,x).unbind("click.signaturepad"),a(w.typeIt,x).bind("click.signaturepad",function(a){a.preventDefault()}),a(w.output,x).val(""),a(w.drawIt,x).removeClass(w.currentClass),a(w.typeIt,x).addClass(w.currentClass),a(w.sig,x).removeClass(w.currentClass),a(w.drawItDesc,x).hide(),a(w.clear,x).hide(),a(w.typeItDesc,x).show(),I=H=a(w.typed,x).css("font-size").replace(/px/,"")}function p(b){var c=a(w.typed,x),d=a.trim(b.replace(/>/g,"&gt;").replace(/</g,"&lt;")),e=J,f=.5*I;if(J=d.length,c.html(d),!d)return void c.css("font-size",H+"px");if(J>e&&c.outerWidth()>z.width)for(;c.outerWidth()>z.width;)I--,c.css("font-size",I+"px");if(e>J&&c.outerWidth()+f<z.width&&H>I)for(;c.outerWidth()+f<z.width&&H>I;)I++,c.css("font-size",I+"px")}function q(b,c){a("p."+c.errorClass,b).remove(),b.removeClass(c.errorClass),a("input, label",b).removeClass(c.errorClass)}function r(b,c,d){b.nameInvalid&&(c.prepend(['<p class="',d.errorClass,'">',d.errorMessage,"</p>"].join("")),a(d.name,c).focus(),a(d.name,c).addClass(d.errorClass),a("label[for="+a(d.name).attr("id")+"]",c).addClass(d.errorClass)),b.drawInvalid&&c.prepend(['<p class="',d.errorClass,'">',d.errorMessageDraw,"</p>"].join(""))}function s(){var b=!0,c={drawInvalid:!1,nameInvalid:!1},d=[x,w],e=[c,x,w];return w.onBeforeValidate&&"function"==typeof w.onBeforeValidate?w.onBeforeValidate.apply(v,d):q.apply(v,d),w.drawOnly&&C.length<1&&(c.drawInvalid=!0,b=!1),""===a(w.name,x).val()&&(c.nameInvalid=!0,b=!1),w.onFormError&&"function"==typeof w.onFormError?w.onFormError.apply(v,e):r.apply(v,e),b}function t(a,b,c){for(var d in a)"object"==typeof a[d]&&(b.beginPath(),b.moveTo(a[d].mx,a[d].my),b.lineTo(a[d].lx,a[d].ly),b.lineCap=w.penCap,b.stroke(),b.closePath(),c&&C.push({lx:a[d].lx,ly:a[d].ly,mx:a[d].mx,my:a[d].my}))}function u(){parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1&&(a.fn.Oldoffset=a.fn.offset,a.fn.offset=function(){var b=a(this).Oldoffset();return b.top-=window.scrollY,b.left-=window.scrollX,b}),a(w.typed,x).bind("selectstart.signaturepad",function(b){return a(b.target).is(":input")}),y.bind("selectstart.signaturepad",function(b){return a(b.target).is(":input")}),!z.getContext&&FlashCanvas&&FlashCanvas.initElement(z),z.getContext&&(A=z.getContext("2d"),a(w.sig,x).show(),w.displayOnly||(w.drawOnly||(a(w.name,x).bind("keyup.signaturepad",function(){p(a(this).val())}),a(w.name,x).bind("blur.signaturepad",function(){p(a(this).val())}),a(w.drawIt,x).bind("click.signaturepad",function(a){a.preventDefault(),n()})),w.drawOnly||"drawIt"===w.defaultAction?n():o(),w.validateFields&&(a(b).is("form")?a(b).bind("submit.signaturepad",function(){return s()}):a(b).parents("form").bind("submit.signaturepad",function(){return s()})),a(w.sigNav,x).show()))}var v=this,w=a.extend({},a.fn.signaturePad.defaults,c),x=a(b),y=a(w.canvas,x),z=y.get(0),A=null,B={x:null,y:null},C=[],D=!1,E=!1,F=!1,G=!1,H=30,I=H,J=0;a.extend(v,{signaturePad:"{{version}}",init:function(){u()},updateOptions:function(b){a.extend(w,b)},regenerate:function(b){v.clearCanvas(),a(w.typed,x).hide(),"string"==typeof b&&(b=JSON.parse(b)),t(b,A,!0),w.output&&a(w.output,x).length>0&&a(w.output,x).val(JSON.stringify(C))},clearCanvas:function(){i()},getSignature:function(){return C},getSignatureString:function(){return JSON.stringify(C)},getSignatureImage:function(){var a=document.createElement("canvas"),b=null,c=null;return a.style.position="absolute",a.style.top="-999em",a.width=z.width,a.height=z.height,document.body.appendChild(a),!a.getContext&&FlashCanvas&&FlashCanvas.initElement(a),b=a.getContext("2d"),b.fillStyle=w.bgColour,b.fillRect(0,0,z.width,z.height),b.lineWidth=w.penWidth,b.strokeStyle=w.penColour,t(C,b),c=a.toDataURL.apply(a,arguments),document.body.removeChild(a),a=null,c},validateForm:function(){return s()}})}a.fn.signaturePad=function(c){var d=null;return this.each(function(){a.data(this,"plugin-signaturePad")?(d=a.data(this,"plugin-signaturePad"),d.updateOptions(c)):(d=new b(this,c),d.init(),a.data(this,"plugin-signaturePad",d))}),d},a.fn.signaturePad.defaults={defaultAction:"typeIt",displayOnly:!1,drawOnly:!1,canvas:"canvas",sig:".sig",sigNav:".sigNav",bgColour:"#ffffff",penColour:"#145394",penWidth:2,penCap:"round",lineColour:"#ccc",lineWidth:2,lineMargin:5,lineTop:35,name:".name",typed:".typed",clear:".clearButton",typeIt:".typeIt a",drawIt:".drawIt a",typeItDesc:".typeItDesc",drawItDesc:".drawItDesc",output:".output",currentClass:"current",validateFields:!0,errorClass:"error",errorMessage:"Please enter your name",errorMessageDraw:"Please sign the document",onBeforeValidate:null,onFormError:null,onDraw:null,onDrawEnd:null}}(jQuery);
//# sourceMappingURL=vendors.contractor.min.map