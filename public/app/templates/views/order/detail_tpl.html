<form class="reg-page" form-autofill-fix  name="vm.userForm" novalidate ng-submit="vm.saveJob();">
    <div class="reg-header">
        <h2>Termin</h2>
        <p>Bitte wählen Sie Ihren Termin aus.</p>
    </div>
    <div class="row">
        <div class="col-sm-4">
            <div class="panel ">
                <div class="panel-heading">
                    <h3 class="panel-title"> Wählen Sie Ihren Wunschtermin</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <rc_date_time_picker  date="vm.job.startDate" id="datetimepicker"  show-calendar="true" class="margin-bottom-10">
                            <p> Unser Roofcare Spezialist wird Sie 30 - 60 Minuten bevor er am vereinbarten Ort ankommt anrufen. Die Arbeiten werden {{vm.job.duration}} dauern. </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <div class="row">
                <div class="panel ">
                    <div class="panel-heading">
                        <h3 class="panel-title"> Ansprechpartner vor Ort</h3>
                    </div>
                    <div class="panel-body">
                        <div class="row margin-bottom-10">
                            <div class="col-sm-4">
                                <label>Anrede</label>
                                <select class="form-control" data-ng-model="vm.job.onSiteContact.salutation">
                                    <option value="">Anrede</option>
                                    <option ng-repeat="o in vm.lookups.salutation"  value="{{o}}">{{o}}</option>
                                </select>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : vm.isContactFirstNameInvalid()}">
                                <label>Vorname<span class="color-red">*</span></label>
                                <input type="text" class="form-control"
                                       ng-change="vm.copyOnSiteToBillingInfo()"
                                       name="contactFirstName" placeholder="Vorname"
                                       data-ng-model="vm.job.onSiteContact.firstName"
                                       ng-required="true"
                                       ng-minlength="2"
                                       ng-maxlength="50">
                                    <p ng-show="vm.isContactFirstNameInvalid()" class="help-block" data-ng-bind="vm.translation.validation.invalidName"></p>
                                 </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group" ng-class="{ 'has-error' : vm.isContactLastNameInvalid()}">
                                <label>Nachname<span class="color-red">*</span></label>
                                <input type="text" class="form-control" name="contactLastName" placeholder="Nachname"
                                       ng-change="vm.copyOnSiteToBillingInfo()"
                                       data-ng-model="vm.job.onSiteContact.lastName"
                                       ng-required="true"
                                       ng-minlength="2"
                                       ng-maxlength="50">
                                <p ng-show="vm.isContactLastNameInvalid()" class="help-block" data-ng-bind="vm.translation.validation.invalidName"></p>
                                    </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <label>Funktion</label>
                                <select class="form-control"  place-holder="please select" data-ng-model="vm.job.onSiteContact.contactType">
                                    <option value="">Funktion</option>
                                  <option ng-repeat="o in vm.lookups.contactType"  value="{{o}}">{{o}}</option>
                                </select>
                            </div>
                            <div class="col-sm-4">
                              <div class="form-group" ng-class="{ 'has-error' : vm.isContactPhoneInvalid()}">
                                <label>Telefonnummer<span class="color-red">*</span></label>
                                <input type="text"
                                       ng-change="vm.copyOnSiteToBillingInfo()"
                                       class="form-control"
                                       data-ng-model="vm.job.onSiteContact.phone"
                                       name="contactPhone"
                                       ng-required="true"
                                       ng-minlength="6"
                                       ng-maxlength="50"
                                       placeholder="Telefonnummer">
                                  <p ng-show="vm.isContactPhoneInvalid()" class="help-block" data-ng-bind="vm.translation.validation.invalidPhone"></p>
                            </div>
                              </div>
                            <div class="col-sm-4">
                                <label>Handy</label>
                                <input type="text" class="form-control"   data-ng-model="vm.job.onSiteContact.cell" name="contact-cell" placeholder="Handy">
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="panel">
                    <div class="panel-heading">
                        <h3 class="panel-title"> Rechnungsadresse</h3>
                    </div>
                    <div class="panel-body">
                        <div class="row margin-bottom-10">
                            <div class="col-sm-4">
                                <label>Firmenname</label>
                                <input type="text"  data-ng-model="vm.job.customer.company" class="form-control" name="billing-company" placeholder="Firma">
                            </div>
                            <div class="col-sm-4">
                                <label>Branche/Zusatz</label>
                                <input type="text"   data-ng-model="vm.job.customer.industry"  class="form-control" name="billing-extra" placeholder="Branche/Zusatz">
                            </div>
                            <div class="col-sm-4">
                                <label>Abteilung</label>
                                <input type="text"   data-ng-model="vm.job.customer.department"  class="form-control" name="billing-department" placeholder="Abteilung">
                            </div>
                        </div>



                        <div class="row margin-bottom-10">
                            <div class="col-sm-4">
                                <label>Anrede</label>
                                <select class="form-control" data-ng-model="vm.job.customer.salutation" name="billing-title">
                                    <option value="">Anrede</option>
                                  <option ng-repeat="o in vm.lookups.salutation"  value="{{o}}">{{o}}</option>
                                </select>
                            </div>
                            <div class="col-sm-4">
                              <div class="form-group" ng-class="{ 'has-error' : vm.isBillingContactFirstNameInvalid()}">
                                <label>Vorname<span class="color-red">*</span></label>
                                <input type="text"
                                       ng-focus="vm.disableCopingToBilling()"
                                       data-ng-model="vm.job.customer.firstName"
                                       class="form-control"
                                       name="billingFirst"
                                       ng-required="true"
                                       ng-minlength="2"
                                       ng-maxlength="50"
                                       placeholder="Vorname">
                                  <p ng-show="vm.isBillingContactFirstNameInvalid()" class="help-block" data-ng-bind="vm.translation.validation.invalidName"></p>
                            </div>
                              </div>
                            <div class="col-sm-4">
                              <div class="form-group" ng-class="{ 'has-error' : vm.isBillingContactLastNameInvalid()}">
                                <label>Nachname<span class="color-red">*</span></label>
                                <input type="text"
                                       ng-focus="vm.disableCopingToBilling()"
                                       data-ng-model="vm.job.customer.lastName"
                                       class="form-control"
                                       name="billingLast"
                                       ng-required="true"
                                       ng-minlength="2"
                                       ng-maxlength="50"
                                       placeholder="Nachname">
                                  <p ng-show="vm.isBillingContactLastNameInvalid()" class="help-block" data-ng-bind="vm.translation.validation.invalidName"></p>
                            </div>
                              </div>
                        </div>
                        <div class="row margin-bottom-10">
                            <div class="col-sm-5">
                                <label>Strasse und Hausnummer<span class="color-red">*</span></label>
                                <input type="text"   data-ng-model="vm.job.customer.address.street"  class="form-control" name="billing-address" placeholder="Strasse und Hausnummer">
                            </div>
                            <div class="col-sm-2">
                                <label>PLZ<span class="color-red">*</span></label>
                                <input type="text"   data-ng-model="vm.job.customer.address.zipCode"  class="form-control" name="billing-zip" placeholder="PLZ">
                            </div>
                            <div class="col-sm-5">
                                <label>Stadt<span class="color-red">*</span></label>
                                <input type="text"   data-ng-model="vm.job.customer.address.city"   class="form-control" name="billing-city" placeholder="Stadt">
                            </div>
                        </div>
                        <div class="row margin-bottom-10">
                            <div class="col-sm-6">
                              <div class="form-group" ng-class="{ 'has-error' : vm.isBillingPhoneInvalid()}">
                                <label>Telefonnummer<span class="color-red">*</span></label>
                                <input type="text"
                                       ng-focus="vm.disableCopingToBilling()"
                                       data-ng-model="vm.job.customer.phone"
                                       class="form-control"
                                       name="billingPhone"
                                       ng-required="true"
                                       ng-minlength="2"
                                       ng-maxlength="50"
                                       placeholder="Telefon">

                              <p ng-show="vm.isBillingPhoneInvalid()" class="help-block" data-ng-bind="vm.translation.validation.invalidPhone"></p>
                            </div>
                              </div>
                            <div class="col-sm-6">
                              <div class="form-group" ng-class="{ 'has-error' : vm.isBillingEmailInvalid()}">
                                <label>Email<span class="color-red">*</span></label>
                                <input type="email"
                                       data-ng-model="vm.job.customer.email"
                                       class="form-control"
                                       name="billingEmail"
                                       ng-required="true"
                                       placeholder="Email">
                                  <p ng-show="vm.isBillingEmailInvalid()" class="help-block" data-ng-bind="vm.translation.validation.invalidEmail"></p>
                            </div>
                              </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <button  data-ng-show="vm.canEditOrder" class="btn-u" type="submit">Termin Bestätigen<i class="icon-angle-right icon-large pull-right"></i></button>
        </div>
    </div>
</form>